<!DOCTYPE html>
%html
  %head
    %title#title
      #{@title}
    %meta{:charset => "utf-8"}
    %meta{:name => "viewport", :content=>"width=device-width, initial-scale=1, maximum-scale=1"}
    %meta{:name=>"apple-mobile-web-app-capable", :content=>"yes"}
    %script{:type => "text/javascript", :src => "#{url_for('/libs/jquery/dist/jquery.min.js')}"}
    %link{:href=>"#{url_for('/libs/bootstrap/dist/css/bootstrap.min.css')}", :rel=>"stylesheet"}
    %script{:src=>"#{url_for('/libs/bootstrap/dist/js/bootstrap.min.js')}"}
  %body
    %nav.navbar.navbar-default{role: "navigation"}
      .navbar-header
        %button.navbar-toggle{type:"button", data:{toggle: "collapse", target: "#navbar-collapse"}}
          %span.sr-only
            Toggle navigation
          %span.icon-bar
          %span.icon-bar
          %span.icon-bar
        %a.navbar-brand{href:"#{url_for("/")}"}
          App
      .collapse.navbar-collapse#navbar-collapse
        %ul.nav.navbar-nav
          %li
            %a{href: "#{url_for("/database")}"}
              Database
          -if connected?
            -unless tables.nil? || tables.count < 1
              %li.dropdown 
                %a.dropdown-toggle{href: "#", role:"button", aria:{expanded: false}, data:{toggle:"dropdown"}} 
                  Tables
                  %span.caret
                %ul.dropdown-menu{role:"menu"}
                  -tables.each do |table|
                    %li
                      %a{href:"#{url_for("/table/#{table}")}"}
                        #{table}
            -unless views.nil? || views.count < 1
              %li.dropdown 
                %a.dropdown-toggle{href: "#", role:"button", aria:{expanded: false}, data:{toggle:"dropdown"}} 
                  Views
                  %span.caret
                %ul.dropdown-menu{role:"menu"}
                  -views.each do |view|
                    %li
                      %a{href:"#{url_for("/view/#{view}")}"}
                        #{view}
            -unless routines.nil? || routines.count < 1
              %li.dropdown 
                %a.dropdown-toggle{href: "#", role:"button", aria:{expanded: false}, data:{toggle:"dropdown"}} 
                  Routines
                  %span.caret
                %ul.dropdown-menu{role:"menu"}
                  -routines.each do |routine|
                    %li
                      %a{href:"#{url_for("/routine/#{routine}")}"}
                        #{routine}
            %li
              %a{href:"#{url_for("/query")}"}
                Query
    .container#content
      =yield
    .container.footer
      A 
      %a{href:"https://patf.net"}
        patf
      joint
:javascript

